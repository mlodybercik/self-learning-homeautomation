\chapter{Badania}

W celu przeprowadzenia badania jakości tego jak dobrze system uczy się nawyków użytkownika dla różnych konfiguracji parametrów systemu zaproponowano pewien sztucznie wygenerowany scenariusz użycia kilku urządzeń domowych. Przykładowy scenariusz zawiera następującą listę urządzeń: światło w kuchni, ekspres do kawy, światło w salonie, telewizor w salonie, światła na balkonie, lampka w sypialni.

\textit{Użytkownik codziennie około godziny 5:30 gasi światło na balkonie przed domem, zapala światło w kuchni a następnie włącza ekspres, na chwilę w salonie włącza telewizor. Gdy wróci do domu popołudniem, wchodzi do kuchni, zapala światło, włącza ekspres. Po czasie, wyłącza w kuchni ekspres, światło, włącza w salonie telewizor i światło. Wieczorem, o godzinie 22 wyłącza w salonie telewizor i światło i włącza światło w kuchni.
Po 15 minutach wyłącza światło i idzie do sypialni gdzie włącza tam lampkę. Późniejszą porą w nocy, użytkownik wyłącza lampkę w sypialni, ale włącza światło na balkonie.}

W celu zbadania różnych konfiguracji, przeprowadzono serię wielu testów. Do danych uczących, tych które pochodziłyby z systemu HomeAssistant zostały dodane pewne zakłócenia, w postaci włączeń i wyłączeń różnych urządzeń o różnych porach dnia, tak aby nie zakłócały one surowego planu dnia użytkownika. Dane ewaluacyjne to te same co do uczenia systemu pozbawione dodanych zakłóceń. Do badań użyto różnych kombinacji opcji konfiguracyjnych z długością epizodu równą 600, czyli 10 minut. W tabelach (\ref{tab:badania_t1}), (\ref{tab:badania_t2}), (\ref{tab:badania_t3}), zawarto badania z optymalizatorem Adam z włączonym pędem Nesterova, a w tabelach (\ref{tab:badania_t4}), (\ref{tab:badania_t5}), (\ref{tab:badania_t6}) bez. W tabelach (\ref{tab:badania_t1}) i (\ref{tab:badania_t4}) wykorzystano zaproponowany sposób, przemiany danych temporalnych na reprezentację Gaussa. W tabelach (\ref{tab:badania_t2}) i (\ref{tab:badania_t5}) wykorzystano przemianę danych w postaci złożenia sinusoidy i kosinusoidy, a w tabelach (\ref{tab:badania_t3}) i (\ref{tab:badania_t6}) zastosowano samą kosinusoidę. Obie te metody zostały opisane w (\ref{subsec:reprezentacja_czasu}). Oba zestawy tabel podają wartość błędu walidacyjnego dla każdego sterowanego urządzenia wraz z sumą dla całego systemu. Każda kolumna oznacza inną badaną konfigurację.

\begin{enumerate}[label=\Roman*]
    \item -- Parametr prędkości uczenia 0.005, zakres progowania od 0.50 do 0.95,
    \item -- Parametr prędkości uczenia 0.005, zakres progowania od 0.75 do 0.90,
    \item -- Parametr prędkości uczenia 0.001, zakres progowania od 0.50 do 0.95,
    \item -- Parametr prędkości uczenia 0.001, zakres progowania od 0.75 do 0.90,
\end{enumerate}



\begin{table}
    \centering\caption{Tabela przedstawiająca wyniki dla czasu w reprezentacji Gaussa z optymalizatorem Nadam. \label{tab:badania_t1}}
    \begin{tabular}{|c|c|c|c|c|}
        \hline
         & I & II & III & IV \dnl 
        Światła kuchnia  & $1.3184 \times 10^{-1}$ & $1.2615 \times 10^{-1}$ & $1.3509 \times 10^{-1}$ & $1.3616 \times 10^{-1}$ \nl 
        Ekspres          & $1.2637 \times 10^{-1}$ & $1.2612 \times 10^{-1}$ & $1.3058 \times 10^{-1}$ & $1.2807 \times 10^{-1}$ \nl 
        Światła salon    & $1.2604 \times 10^{-1}$ & $1.2636 \times 10^{-1}$ & $1.2509 \times 10^{-1}$ & $1.2330 \times 10^{-1}$ \nl 
        Telewizor        & $5.0368 \times 10^{-1}$ & $3.7748 \times 10^{-1}$ & $2.5453 \times 10^{-1}$ & $2.5345 \times 10^{-1}$ \nl 
        Światła balkon   & $3.2991 \times 10^{-4}$ & $1.1964 \times 10^{-1}$ & $6.4132 \times 10^{-3}$ & $4.7199 \times 10^{-3}$ \nl 
        Lampka sypialnia & $1.6458 \times 10^{-4}$ & $1.2587 \times 10^{-1}$ & $8.6326 \times 10^{-2}$ & $8.6425 \times 10^{-2}$ \dnl 
        Suma             & $8.8843 \times 10^{-1}$ & $1.0016 \times 10^{0}$  & $7.3802 \times 10^{-1}$ & $7.3212 \times 10^{-1}$ \nl 
    \end{tabular}

    \centering\caption{Tabela przedstawiająca wyniki dla czasu używającego złożenia sinusoidy i kosinusoidy ułamka czasu z optymalizatorem Nadam. \label{tab:badania_t2}}
    \begin{tabular}{|c|c|c|c|c|}
        \hline
         & I & II & III & IV \dnl 
        Światła kuchnia  & $3.3997 \times 10^{-1}$ & $3.4003 \times 10^{-1}$ & $2.2071 \times 10^{-1}$ & $2.1171 \times 10^{-1}$ \nl 
        Ekspres          & $1.2645 \times 10^{-1}$ & $1.2621 \times 10^{-1}$ & $1.4054 \times 10^{-1}$ & $1.4197 \times 10^{-1}$ \nl 
        Światła salon    & $1.2584 \times 10^{-1}$ & $1.2632 \times 10^{-1}$ & $1.2765 \times 10^{-1}$ & $1.2775 \times 10^{-1}$ \nl 
        Telewizor        & $3.7751 \times 10^{-1}$ & $5.0319 \times 10^{-1}$ & $3.3696 \times 10^{-1}$ & $3.3481 \times 10^{-1}$ \nl 
        Światła balkon   & $6.1214 \times 10^{-3}$ & $6.3107 \times 10^{-3}$ & $2.2572 \times 10^{-2}$ & $2.4086 \times 10^{-2}$ \nl 
        Lampka sypialnia & $2.4572 \times 10^{-1}$ & $7.7277 \times 10^{-4}$ & $2.0910 \times 10^{-2}$ & $2.2086 \times 10^{-2}$ \dnl 
        Suma             & $1.2216 \times 10^{0}$  & $1.1028 \times 10^{0}$  & $8.6934 \times 10^{-1}$ & $8.6241 \times 10^{-1}$ \nl 
    \end{tabular}

    \centering\caption{Tabela przedstawiająca wyniki dla kosinusoidy czasu z optymalizatorem Nadam. \label{tab:badania_t3}}
    \begin{tabular}{|c|c|c|c|c|}
        \hline
         & I & II & III & IV \dnl 
        Światła kuchnia  & $3.4200 \times 10^{-1}$ & $1.8050 \times 10^{-1}$ & $2.1940 \times 10^{-1}$ & $2.2070 \times 10^{-1}$ \nl 
        Ekspres          & $2.5275 \times 10^{-1}$ & $1.2672 \times 10^{-1}$ & $1.3860 \times 10^{-1}$ & $1.3782 \times 10^{-1}$ \nl 
        Światła salon    & $1.2608 \times 10^{-1}$ & $1.2595 \times 10^{-1}$ & $1.2898 \times 10^{-1}$ & $1.2910 \times 10^{-1}$ \nl 
        Telewizor        & $3.7796 \times 10^{-1}$ & $3.7781 \times 10^{-1}$ & $3.7902 \times 10^{-1}$ & $3.7880 \times 10^{-1}$ \nl 
        Światła balkon   & $1.2032 \times 10^{-1}$ & $1.1964 \times 10^{-1}$ & $5.0807 \times 10^{-2}$ & $5.2643 \times 10^{-2}$ \nl 
        Lampka sypialnia & $2.4561 \times 10^{-1}$ & $2.4562 \times 10^{-1}$ & $2.6154 \times 10^{-2}$ & $2.9102 \times 10^{-2}$ \dnl 
        Suma             & $1.4647 \times 10^{0}$  & $1.1762 \times 10^{0}$  & $9.4295 \times 10^{-1}$ & $9.4817 \times 10^{-1}$ \nl          
    \end{tabular}
\end{table}


\begin{table}
    \centering\caption{Tabela przedstawiająca wyniki dla czasu w reprezentacji Gaussa z optymalizatorem Adam. \label{tab:badania_t4}}
    \begin{tabular}{|c|c|c|c|c|}
        \hline
         & I & II & III & IV \dnl 
        Światła kuchnia  & $3.3984 \times 10^{-1}$ & $1.2775 \times 10^{-1}$ & $1.3552 \times 10^{-1}$ & $1.3403 \times 10^{-1}$ \nl 
        Ekspres          & $1.2613 \times 10^{-1}$ & $1.2696 \times 10^{-1}$ & $1.2883 \times 10^{-1}$ & $1.2869 \times 10^{-1}$ \nl 
        Światła salon    & $8.8793 \times 10^{-2}$ & $1.2635 \times 10^{-1}$ & $1.1933 \times 10^{-1}$ & $1.1832 \times 10^{-1}$ \nl 
        Telewizor        & $3.7789 \times 10^{-1}$ & $3.7740 \times 10^{-1}$ & $2.7103 \times 10^{-1}$ & $2.5464 \times 10^{-1}$ \nl 
        Światła balkon   & $8.6420 \times 10^{-6}$ & $3.0359 \times 10^{-4}$ & $3.1579 \times 10^{-3}$ & $3.0881 \times 10^{-3}$ \nl 
        Lampka sypialnia & $5.3721 \times 10^{-4}$ & $1.9876 \times 10^{-3}$ & $8.5490 \times 10^{-2}$ & $8.3690 \times 10^{-2}$ \dnl 
        Suma             & $9.3319 \times 10^{-1}$ & $7.6075 \times 10^{-1}$ & $7.4336 \times 10^{-1}$ & $7.2245 \times 10^{-1}$ \nl 
    \end{tabular}

    \centering\caption{Tabela przedstawiająca wyniki dla czasu używającego złożenia sinusoidy i kosinusoidy ułamka czasu z optymalizatorem Adam. \label{tab:badania_t5}}
    \begin{tabular}{|c|c|c|c|c|}
        \hline
         & I & II & III & IV \dnl 
        Światła kuchnia  & $3.7779 \times 10^{-1}$ & $1.3758 \times 10^{-1}$ & $1.9831 \times 10^{-1}$ & $2.0386 \times 10^{-1}$ \nl 
        Ekspres          & $1.6384 \times 10^{-1}$ & $1.2675 \times 10^{-1}$ & $1.3649 \times 10^{-1}$ & $1.4022 \times 10^{-1}$ \nl 
        Światła salon    & $1.2603 \times 10^{-1}$ & $1.2617 \times 10^{-1}$ & $1.2749 \times 10^{-1}$ & $1.2719 \times 10^{-1}$ \nl 
        Telewizor        & $3.7989 \times 10^{-1}$ & $3.7785 \times 10^{-1}$ & $3.5703 \times 10^{-1}$ & $3.5197 \times 10^{-1}$ \nl 
        Światła balkon   & $8.4263 \times 10^{-4}$ & $1.1967 \times 10^{-1}$ & $1.7433 \times 10^{-2}$ & $1.3986 \times 10^{-2}$ \nl 
        Lampka sypialnia & $1.0623 \times 10^{-3}$ & $1.2384 \times 10^{-1}$ & $1.6005 \times 10^{-2}$ & $2.1704 \times 10^{-2}$ \dnl 
        Suma             & $1.0495 \times 10^{0}$  & $1.0119 \times 10^{0}$  & $8.5275 \times 10^{-1}$ & $8.5893 \times 10^{-1}$ \nl 
    \end{tabular}

    \centering\caption{Tabela przedstawiająca wyniki dla kosinusoidy czasu z optymalizatorem Adam. \label{tab:badania_t6}}
    \begin{tabular}{|c|c|c|c|c|}
        \hline
         & I & II & III & IV \dnl 
        Światła kuchnia  & $2.7359 \times 10^{-1}$ & $2.2487 \times 10^{-1}$ & $2.2312 \times 10^{-1}$ & $2.1595 \times 10^{-1}$ \nl 
        Ekspres          & $1.2599 \times 10^{-1}$ & $1.2722 \times 10^{-1}$ & $1.4030 \times 10^{-1}$ & $1.3696 \times 10^{-1}$ \nl 
        Światła salon    & $2.5258 \times 10^{-1}$ & $1.2679 \times 10^{-1}$ & $1.2886 \times 10^{-1}$ & $1.2817 \times 10^{-1}$ \nl 
        Telewizor        & $5.0317 \times 10^{-1}$ & $5.0326 \times 10^{-1}$ & $3.8027 \times 10^{-1}$ & $3.8196 \times 10^{-1}$ \nl 
        Światła balkon   & $1.2039 \times 10^{-1}$ & $1.1987 \times 10^{-1}$ & $5.9904 \times 10^{-2}$ & $5.4583 \times 10^{-2}$ \nl 
        Lampka sypialnia & $2.4636 \times 10^{-1}$ & $1.2597 \times 10^{-1}$ & $2.9190 \times 10^{-2}$ & $2.1298 \times 10^{-2}$ \dnl 
        Suma             & $1.5221 \times 10^{0}$  & $1.2280 \times 10^{0}$  & $9.6165 \times 10^{-1}$ & $9.3893 \times 10^{-1}$ \nl   
    \end{tabular}
\end{table}
